<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ランダムフォルダ画像表示（フルスクリーン）</title>
<style>
  body {
    margin: 0;
    background: #000; /* 全画面時の背景を黒に */
    font-family: sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 16px;
    min-height: 100vh;
    color: white;
  }
  button {
    background: #2563eb;
    color: white;
    border: none;
    padding: 12px 20px;
    font-size: 18px;
    border-radius: 8px;
    cursor: pointer;
  }
  button:active {
    transform: translateY(1px);
  }
  #mainImg {
    max-width: 100%;
    max-height: 100%;
    cursor: pointer;
    background: #000;
    display: none; /* 初期は非表示 */
  }
  #meta {
    font-size: 14px;
    color: #ccc;
  }
</style>
</head>
<body>

<button id="pickBtn">ランダムにフォルダを選ぶ</button>
<img id="mainImg" alt="画像がここに表示されます" />
<div id="meta"></div>

<script>
(() => {
  // ======== フォルダ名をここに書き換えてください ========
  const folders = [
    'AI',
    'NBA',
    'コンビニ',
    'ノーベル賞',
    'ハリウッド',
    '元素',
    '古文',
    '四字熟語',
    '山手線',
    '百人一首',
    '金属',
    '首相'
  ];
  // ==============================================

  const pickBtn = document.getElementById('pickBtn');
  const mainImg = document.getElementById('mainImg');
  const meta = document.getElementById('meta');

  let currentFolder = null;
  let showing = null; // "1" or "2"

  // ランダムにフォルダを選ぶ
  function chooseRandomFolder() {
    const idx = Math.floor(Math.random() * folders.length);
    return folders[idx];
  }

  // 画像を表示
  function showImage(filePath, label) {
    mainImg.style.display = 'none'; // 読み込み前に非表示
    mainImg.src = filePath;
    showing = label;
  }

  // 画像の読み込み完了
  mainImg.addEventListener('load', () => {
    mainImg.style.display = 'block';
    meta.textContent = `${currentFolder} / ${showing}.png`;
  });

  // ボタンを押したとき → ランダムフォルダの1.pngを表示
  pickBtn.addEventListener('click', () => {
    currentFolder = chooseRandomFolder();
    showImage(`${currentFolder}/1.png`, '1');
  });

  // 画像をクリック／タップしたとき
  mainImg.addEventListener('click', async () => {
    if (!currentFolder) return;

    // まずフルスクリーンに切り替える
    if (!document.fullscreenElement) {
      try {
        await mainImg.requestFullscreen();  // 画像をフルスクリーン表示
      } catch (err) {
        console.error('フルスクリーンにできません:', err);
      }
    } else {
      // すでにフルスクリーンなら次の画像へ
      if (showing === '1') {
        showImage(`${currentFolder}/2.png`, '2');
      }
    }
  });

  // フルスクリーン解除時のイベント（例: Escキーで閉じたら戻る）
  document.addEventListener('fullscreenchange', () => {
    if (!document.fullscreenElement) {
      console.log('フルスクリーンを終了');
    }
  });
})();
</script>

</body>
</html>
